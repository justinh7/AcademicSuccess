<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Khoa Le on 2017.11.30 
Copyright © 2017 Khoa Le. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"         
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <!-- Do not enter tags before the composition line since they are ignored by JSF -->

    <!-- This page is constructed based on the siteTemplate -->
    <ui:composition template="/template/siteTemplate.xhtml">
        <ui:define name="title">
            <!-- Set the page title -->
            <h:outputText value="Academic Graph"></h:outputText>
        </ui:define>

        <!-- Create the content for this page below -->
        <ui:define name="editableContent">

            <h:form id="AcademicGraphForm" >

                <!-- Type of Dataset -->
                <p:growl id="msg" showDetail="true" escape="false" />



                <div align="center">
                    <h:panelGrid columns="2" >




                        <p:panel style="width: 450px; height: 750px">


                            <p:fieldset legend="Overall Settings" >
                                <h:panelGrid columns="2" >
                                    <h:outputLabel for="title" value="Title" />
                                    <p:inputText id="title" value="${tableController.title}"/>

                                    <p:outputLabel for="graph" value="Type of Graph" />
                                    <p:selectOneMenu id="graph" value="${tableController.graphType}">
                                        <f:selectItem itemLabel="Line Graph" itemValue="Line Graph" />
                                        <f:selectItem itemLabel="Bar Graph" itemValue="Bar Graph" />
                                        <f:selectItem itemLabel="Area Graph" itemValue="Area Graph" />
                                    </p:selectOneMenu>

                                    <h:outputText id="displayRange1" value="Between 2000 and 2014" style="padding-right:10px"/>
                                    <p:slider for="txt61,txt71" minValue = "2000" maxValue = "2014" display="displayRange1" style="width: 200px;" range="true" displayTemplate="Between {min} and {max}" />
                                    <h:inputHidden id="txt61" value="${tableController.minYear}" />
                                    <h:inputHidden id="txt71" value="${tableController.maxYear}" />


                                </h:panelGrid>



                            </p:fieldset>
                            <br />

                            <p:fieldset legend="Dataset Selection 1" >
                                <h:panelGrid columns="2" >
                                    <p:outputLabel for="dataset1" value="Type of Dataset" />
                                    <p:selectOneMenu id="dataset1" value="${tableController.dataset}">
                                        <f:selectItem itemLabel="High School Dropout Rates" itemValue="High School Dropout Rates" />
                                        <f:selectItem itemLabel="College Enrollment Rates" itemValue="College Enrollment Rates" />
                                        <f:selectItem itemLabel="College Graduation Rates" itemValue="College Graduation Rates" />
                                        <f:selectItem itemLabel="Rates of Disconnected Youth" itemValue="Rates Disconnected Youth" />
                                        <f:selectItem itemLabel="Labor Force Participation Rates" itemValue="Labor Force Participation Rates"/>
                                        <f:selectItem itemLabel="Imprisonment Rates" itemValue="Imprisonment Rates" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="sex1" value="Sex" />
                                    <p:selectOneMenu id="sex1" value="${tableController.sex}">
                                        <f:selectItem itemLabel="All" itemValue="All" />
                                        <f:selectItem itemLabel="Male" itemValue="Male" />
                                        <f:selectItem itemLabel="Female" itemValue="Female" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="race1" value="Race" />
                                    <p:selectOneMenu id="race1" value="${tableController.race}">
                                        <f:selectItem itemLabel="All" itemValue="All" />
                                        <f:selectItem itemLabel="White" itemValue="White, non-Hispanic" />
                                        <f:selectItem itemLabel="Black" itemValue="Black, non-Hispanic" />
                                        <f:selectItem itemLabel="Hispanic" itemValue="Hispanic" />
                                        <f:selectItem itemLabel="Asian" itemValue="Asian, non-Hispanic" />
                                        <f:selectItem itemLabel="Pacific Islander" itemValue="Pacific Islander, non-Hispanic" />
                                        <f:selectItem itemLabel="American Indian/Alaska Native" itemValue="American Indian/Alaska Native, non-Hispanic" />
                                        <f:selectItem itemLabel="Two or more" itemValue="Two or more races, non-Hispanic" />
                                    </p:selectOneMenu>

                                    <h:outputText value="Show Dataset " />
                                    <p:selectBooleanCheckbox value="#{tableController.showDataset1}" />

                                </h:panelGrid>

                            </p:fieldset>

                            <br />

                            <p:fieldset legend="Dataset Selection 2" >
                                <h:panelGrid columns="2" >
                                    <p:outputLabel for="" value="Type of Dataset" />
                                    <p:selectOneMenu id="dataset2" value="${tableController.dataset2}">
                                        <f:selectItem itemLabel="High School Dropout Rates" itemValue="High School Dropout Rates" />
                                        <f:selectItem itemLabel="College Enrollment Rates" itemValue="College Enrollment Rates" />
                                        <f:selectItem itemLabel="College Graduation Rates" itemValue="College Graduation Rates" />
                                        <f:selectItem itemLabel="Rates of Disconnected Youth" itemValue="Rates Disconnected Youth" />
                                        <f:selectItem itemLabel="Labor Force Participation Rates" itemValue="Labor Force Participation Rates"/>
                                        <f:selectItem itemLabel="Imprisonment Rates" itemValue="Imprisonment Rates" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="" value="Sex" />
                                    <p:selectOneMenu id="sex2" value="${tableController.sex2}">
                                        <f:selectItem itemLabel="All" itemValue="All" />
                                        <f:selectItem itemLabel="Male" itemValue="Male" />
                                        <f:selectItem itemLabel="Female" itemValue="Female" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="" value="Race" />
                                    <p:selectOneMenu id="race2" value="${tableController.race2}">
                                        <f:selectItem itemLabel="All" itemValue="All" />
                                        <f:selectItem itemLabel="White" itemValue="White, non-Hispanic" />
                                        <f:selectItem itemLabel="Black" itemValue="Black, non-Hispanic" />
                                        <f:selectItem itemLabel="Hispanic" itemValue="Hispanic" />
                                        <f:selectItem itemLabel="Asian" itemValue="Asian, non-Hispanic" />
                                        <f:selectItem itemLabel="Pacific Islander" itemValue="Pacific Islander, non-Hispanic" />
                                        <f:selectItem itemLabel="American Indian/Alaska Native" itemValue="American Indian/Alaska Native, non-Hispanic" />
                                        <f:selectItem itemLabel="Two or more" itemValue="Two or more races, non-Hispanic" />
                                    </p:selectOneMenu>

                                    <h:outputText value="Show Dataset " />
                                    <p:selectBooleanCheckbox value="#{tableController.showDataset2}" />

                                </h:panelGrid>

                            </p:fieldset>

                            <br />

                            <p:fieldset legend="Dataset Selection 3" >
                                <h:panelGrid columns="2" >
                                    <p:outputLabel for="" value="Type of Dataset" />
                                    <p:selectOneMenu id="dataset3" value="${tableController.dataset3}">
                                        <f:selectItem itemLabel="High School Dropout Rates" itemValue="High School Dropout Rates" />
                                        <f:selectItem itemLabel="College Enrollment Rates" itemValue="College Enrollment Rates" />
                                        <f:selectItem itemLabel="College Graduation Rates" itemValue="College Graduation Rates" />
                                        <f:selectItem itemLabel="Rates of Disconnected Youth" itemValue="Rates Disconnected Youth" />
                                        <f:selectItem itemLabel="Labor Force Participation Rates" itemValue="Labor Force Participation Rates"/>
                                        <f:selectItem itemLabel="Imprisonment Rates" itemValue="Imprisonment Rates" />
                                    </p:selectOneMenu>


                                    <p:outputLabel for="" value="Sex" />
                                    <p:selectOneMenu id="sex3" value="${tableController.sex3}">
                                        <f:selectItem itemLabel="All" itemValue="All" />
                                        <f:selectItem itemLabel="Male" itemValue="Male" />
                                        <f:selectItem itemLabel="Female" itemValue="Female" />
                                    </p:selectOneMenu>

                                    <p:outputLabel for="" value="Race" />
                                    <p:selectOneMenu id="race3" value="${tableController.race3}">
                                        <f:selectItem itemLabel="All" itemValue="All" />
                                        <f:selectItem itemLabel="White" itemValue="White, non-Hispanic" />
                                        <f:selectItem itemLabel="Black" itemValue="Black, non-Hispanic" />
                                        <f:selectItem itemLabel="Hispanic" itemValue="Hispanic" />
                                        <f:selectItem itemLabel="Asian" itemValue="Asian, non-Hispanic" />
                                        <f:selectItem itemLabel="Pacific Islander" itemValue="Pacific Islander, non-Hispanic" />
                                        <f:selectItem itemLabel="American Indian/Alaska Native" itemValue="American Indian/Alaska Native, non-Hispanic" />
                                        <f:selectItem itemLabel="Two or more" itemValue="Two or more races, non-Hispanic" />
                                    </p:selectOneMenu>

                                    <h:outputText value="Show Dataset " />
                                    <p:selectBooleanCheckbox value="#{tableController.showDataset3}" />

                                </h:panelGrid>

                            </p:fieldset>
                            
                            <br />

                            <p:commandButton id="submit" value="Create Graph"  action="${tableController.getAPIData()}"
                                             ajax="false" icon="ui-icon-pencil" />

                            <p:commandButton value="About the Data" type="button" onclick="PF('aboutTheDataDlg').show();" icon="ui-icon-info"/>

                            <p:dialog header="About the Data" widgetVar="aboutTheDataDlg" modal="true" height="600" width="500">
                                <p:fieldset legend="High School Dropout Rates" style="margin-bottom:20px">
                                    Percentage of 18- to 24-year-olds who have not completed high school by sex and race/ethnicity, 2000–2014.
                                </p:fieldset>

                                <p:fieldset legend="College Enrollment Rates" style="margin-bottom:20px">
                                    Percentage of 18- to 24-year-olds enrolled in 2- and 4-year colleges by sex and race/ethnicity, 2000–2014.
                                </p:fieldset>

                                <p:fieldset legend="College Graduation Rates" style="margin-bottom:20px">
                                    Percentage of 18- to 24-year-olds who have completed a bachelor’s or higher degree by sex and race/ethnicity, 2000–2014.
                                </p:fieldset>

                                <p:fieldset legend="Rates of Disconnected Youth" style="margin-bottom:20px">
                                    Percentage of 18- to 24-year-olds who were neither enrolled in school nor working by sex and race/ethnicity, 2000–2014 (so-called disconnected youth).
                                </p:fieldset>

                                <p:fieldset legend="Labor Force Participation Rates" style="margin-bottom:20px">
                                    Labor force participation rates for young adults ages 18–24 by age, sex, and race/ethnicity, 1980–2013 annual averages.
                                </p:fieldset>

                                <p:fieldset legend="Imprisonment Rates" style="margin-bottom:20px">
                                    Imprisonment rates of 18- to 24-year-olds sentenced to more than 1 year under the jurisdiction of state correctional authorities per 100,000 by sex and race/ethnicity, 2000–2012.
                                </p:fieldset>
                            </p:dialog> 
                            
                            <p:commandButton id="save" value="Save Graph"  actionListener="#{tableController.save}"
                                             icon="ui-icon-circle-plus" >
                                <p:confirm header="Confirmation" 
                                        message="Are you sure you want save the graph to your account?" 
                                        icon="ui-icon-alert" />
                            </p:commandButton>
                            
                            <p:confirmDialog id="saveConfirmDialogBox" global="true" showEffect="fade" hideEffect="fade">
                                <div align="center">
                                    <!-- The value of the first button listed below will be shown as 
                                    highlighted (default action) when displayed -->
                                    <p:commandButton value="No" type="button" 
                                                     styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                    &nbsp;
                                    <p:commandButton value="Yes" type="button" 
                                                     styleClass="ui-confirmdialog-yes" icon="ui-icon-check">
                                    </p:commandButton>
                                </div>
                            </p:confirmDialog>
                            
                            <p:commandButton id="clear" value="Reset" actionListener="#{tableController.clear()}"
                                             icon="ui-icon-refresh" ajax="false"/>

                        </p:panel>

                        <p:panel style="height: 750px">
                            <div id="graphWindow" style="height: 700px; width:800px; padding: 10px ">
                                <c:if test="${tableController.barModel != null}">
                                    <p:chart type="bar" model="#{tableController.barModel}" style="height:600px; width:800px"/>
                                </c:if>
                                <c:if test="${tableController.lineModel != null}">
                                    <p:chart type="line" model="#{tableController.lineModel}" style="height:600px; width:800px;"/>
                                </c:if>

                                <c:if test="${tableController.areaModel != null}">
                                    <p:chart type="line" model="#{tableController.areaModel}" style="height:600px; width:800px"/>
                                </c:if>
                            </div>

                        </p:panel>



                    </h:panelGrid>

                </div>

            </h:form>
        </ui:define>

    </ui:composition>
    <!-- Do not enter tags after the composition line since they are ignored by JSF -->

</html>
